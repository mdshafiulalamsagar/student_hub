{% extends "base.html" %}

{% block content %}

<div style="max-width: 800px; margin: 0 auto;">
    
    <div style="background: var(--card-bg); padding: 40px; border-radius: 16px; border: 1px solid var(--border-color); text-align: center; margin-bottom: 40px; box-shadow: var(--shadow);">
        
        <div style="width: 100px; height: 100px; background: linear-gradient(135deg, var(--primary), #8b5cf6); color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 2.5rem; font-weight: bold; margin: 0 auto 20px; box-shadow: 0 4px 10px rgba(99, 102, 241, 0.3);">
            {{ user.full_name[0].upper() if user.full_name else user.username[0].upper() }}
        </div>
        
        <h2 style="margin: 0; color: var(--text-main); font-size: 1.8rem;">{{ user.full_name }}</h2>
        
        <p style="margin: 5px 0 15px; color: var(--primary); font-weight: 500;">@{{ user.username }}</p>
        
        <p style="color: var(--text-muted); margin: 5px 0 20px; font-size: 1.1rem;">{{ user.university }}</p>
        
        <div style="margin-bottom: 25px;">
            <span style="background: rgba(99, 102, 241, 0.1); color: #818cf8; padding: 6px 15px; border-radius: 20px; font-size: 0.9rem; font-weight: 600; margin-right: 10px; border: 1px solid rgba(99, 102, 241, 0.2);">
                ğŸ“ {{ user.department }}
            </span>
            <span style="background: rgba(16, 185, 129, 0.1); color: #34d399; padding: 6px 15px; border-radius: 20px; font-size: 0.9rem; font-weight: 600; border: 1px solid rgba(16, 185, 129, 0.2);">
                ğŸ· {{ user.batch }}
            </span>
        </div>

        <div style="display: inline-block; background: rgba(255, 255, 255, 0.03); padding: 10px 20px; border-radius: 30px; color: var(--text-muted); font-size: 0.9rem; border: 1px solid var(--border-color);">
            ğŸ“§ {{ user.email }}
        </div>
    </div>

    <h3 style="color: var(--text-main); margin-bottom: 25px; border-bottom: 1px solid var(--border-color); padding-bottom: 15px; display: flex; align-items: center; gap: 10px;">
        ğŸ“‚ My Uploads <span style="background: var(--card-bg); padding: 2px 10px; border-radius: 10px; font-size: 0.8rem; border: 1px solid var(--border-color);">{{ user.resources|length }}</span>
    </h3>

    {% if user.resources %}
        <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 20px;">
            {% for note in user.resources %}
            <div style="background: var(--card-bg); padding: 25px; border-radius: 16px; border: 1px solid var(--border-color); transition: transform 0.2s;">
                <div style="margin-bottom: 10px;">
                    <span style="background: rgba(99, 102, 241, 0.1); color: #818cf8; padding: 4px 10px; border-radius: 15px; font-size: 0.75rem; font-weight: 700;">
                        {{ note.category }}
                    </span>
                </div>
                <h4 style="margin: 0 0 5px; color: var(--text-main); font-size: 1.2rem;">{{ note.title }}</h4>
                <p style="margin: 0 0 15px; color: var(--text-muted); font-size: 0.9rem;">{{ note.course_name }}</p>
                
                <a href="{{ note.file_url }}" target="_blank" style="color: var(--primary); text-decoration: none; font-size: 0.9rem; font-weight: bold; display: flex; align-items: center; gap: 5px;">
                    View File â†—
                </a>
            </div>
            {% endfor %}
        </div>
    {% else %}
        <div style="text-align: center; padding: 50px; border: 2px dashed var(--border-color); border-radius: 16px;">
            <p style="color: var(--text-muted); font-size: 1.1rem; margin-bottom: 20px;">You haven't uploaded any notes yet.</p>
            <a href="/upload" class="btn btn-primary">Upload Your First Note ğŸš€</a>
        </div>
    {% endif %}

</div>

{% endblock %}